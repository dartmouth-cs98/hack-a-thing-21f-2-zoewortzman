[{"/Users/zoewortzman/Documents/cs98/loginpage/src/index.js":"1","/Users/zoewortzman/Documents/cs98/loginpage/src/reportWebVitals.js":"2","/Users/zoewortzman/Documents/cs98/loginpage/src/App.js":"3","/Users/zoewortzman/Documents/cs98/loginpage/src/LoginForm.js":"4","/Users/zoewortzman/Documents/cs98/loginpage/src/InputField.js":"5","/Users/zoewortzman/Documents/cs98/loginpage/src/stores/UserStore.js":"6","/Users/zoewortzman/Documents/cs98/loginpage/src/SubmitButton.js":"7"},{"size":500,"mtime":1632876514234,"results":"8","hashOfConfig":"9"},{"size":362,"mtime":1632876514238,"results":"10","hashOfConfig":"9"},{"size":2152,"mtime":1632929646992,"results":"11","hashOfConfig":"9"},{"size":2246,"mtime":1632929709703,"results":"12","hashOfConfig":"9"},{"size":375,"mtime":1632927291447,"results":"13","hashOfConfig":"9"},{"size":270,"mtime":1632878125599,"results":"14","hashOfConfig":"9"},{"size":382,"mtime":1632927308708,"results":"15","hashOfConfig":"9"},{"filePath":"16","messages":"17","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},"x7hhnc",{"filePath":"19","messages":"20","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},{"filePath":"21","messages":"22","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"23"},{"filePath":"24","messages":"25","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"26"},{"filePath":"27","messages":"28","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},{"filePath":"29","messages":"30","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},{"filePath":"31","messages":"32","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},"/Users/zoewortzman/Documents/cs98/loginpage/src/index.js",[],["33","34"],"/Users/zoewortzman/Documents/cs98/loginpage/src/reportWebVitals.js",[],"/Users/zoewortzman/Documents/cs98/loginpage/src/App.js",["35"],"import React from 'react';\nimport { observer } from 'mobx-react';\nimport UserStore from './stores/UserStore';\nimport LoginForm from './LoginForm';\nimport InputField from './InputField';\nimport SubmitButton from './SubmitButton';\nimport './App.css';\n\nclass App extends React.Component {\n\n  async componentDidMount() {\n    try { \n\n      let res = await fetch ('/isLoggedIn', {\n        method: 'post',\n        headers: {\n          'Accept': 'application/json',\n          'Content-type': 'application/json'\n        }\n      });\n\n      let result = await res.json();\n\n      if (result && result.success) {\n        UserStore.loading = false;\n        UserStore.isLoggedIn = true;\n        UserStore.username = result.username;\n      }\n\n      else {\n        UserStore.loading = false;\n        UserStore.isLoggedIn = false;\n      }\n\n    }\n    catch (e) {\n      UserStore.loading = false;\n      UserStore.isLoggedIn = false;\n    }\n  }\n\n  async doLogout() {\n    try { \n\n      let res = await fetch ('/logout', {\n        method: 'post',\n        headers: {\n          'Accept': 'application/json',\n          'Content-type': 'application/json'\n        }\n      });\n\n      let result = await res.json();\n\n      if (result && result.success) {\n        UserStore.isLoggedIn = false;\n        UserStore.userName = '';\n\n      }\n\n    }\n    catch (e) {\n      console.log(e)\n    };\n  }\n\n  render() {\n\n    if (UserStore.loading) {\n      return (\n        <div className=\"app\">\n          <div className='container'>\n            Loading, please wait...\n          </div>\n        </div>\n      );\n    }\n\n    else {\n      if (UserStore.isLoggedIn) {\n      return (\n        <div clasName=\"app\">\n          <div className='container'>\n             Welcome {UserStore.username}\n\n              <SubmitButton\n                text={'Log out'}\n                disabled={false}\n                onClick={ () => this.doLogout()}\n               />\n            </div>\n          </div>\n        );\n      }\n\n      return (\n        <div className=\"app\">\n          <div className='containter'>\n            <LoginForm />\n          </div>\n\n        </div>\n      );\n    }\n  }\n}\n\nexport default observer(App);\n","/Users/zoewortzman/Documents/cs98/loginpage/src/LoginForm.js",["36"],"import React from 'react';\nimport InputField from './InputField';\nimport SubmitButton from './SubmitButton';\nimport UserStore from './stores/UserStore';\nimport { unstable_renderSubtreeIntoContainer } from 'react-dom';\n\n\nclass LoginForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      username: '',\n      password: '',\n      buttonDisabled: false\n\n    }\n  }\n\n  setInputValue(property,val) {\n    val =val.trim();\n    if (val.lengeth >12) {\n      return;\n    }\n    this.setState({\n      [property]: val\n\n    })\n  }\n\n  resetForm() {\n    this.setState({\n      username: '',\n      password: '',\n      buttonDisabled: false\n    })\n  }\n\n  async doLogin() {\n    if (!this.state.username) {\n      return;\n    }\n    if (!this.state.passwrod) {\n      return\n    }\n\n    this.setState({\n      buttonDisabled: true\n    })\n\n    try {\n      let res = await fetch('/login', {\n        method: 'post',\n        headers: {\n          'Accept': 'application/json',\n          'Conent-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          username: this.state.username,\n          password: this.state.password\n\n        })\n      });\n      let result = await res.json();\n      if (result && result.sucess) {\n        UserStore.isLoggedIn = true;\n        UserStore.username=result.username;\n      }\n      else if (result &&result.success === false) {\n        this.resetForm();\n        alert(result.msg);\n\n      }\n    }\n    catch(e) {\n      console.log(e);\n      this.resetForm();\n    }\n\n  }\n\n  render() {\n    return (\n      <div className=\"loginForm\">\n        Log in \n        <InputField\n          type='text'\n          placeholder='Username'\n          value={this.state.username ? this.state.username : ''}\n          onChange={ (val) => this.setInputValue('username', val)}\n        />\n\n        <InputField\n          type='password'\n          placeholder='Password'\n          value={this.state.password ? this.state.username : ''}\n          onChange={ (val) => this.setInputValue('password', val)}\n        />\n\n        <SubmitButton \n          text ='Login'\n          disabled={this.state.buttonDisabled}\n          onClicl={ () => this.doLogin}\n        />\n      </div>\n    );\n  }\n}\n\nexport default LoginForm;\n","/Users/zoewortzman/Documents/cs98/loginpage/src/InputField.js",[],"/Users/zoewortzman/Documents/cs98/loginpage/src/stores/UserStore.js",[],"/Users/zoewortzman/Documents/cs98/loginpage/src/SubmitButton.js",[],{"ruleId":"37","replacedBy":"38"},{"ruleId":"39","replacedBy":"40"},{"ruleId":"41","severity":1,"message":"42","line":5,"column":8,"nodeType":"43","messageId":"44","endLine":5,"endColumn":18},{"ruleId":"41","severity":1,"message":"45","line":5,"column":10,"nodeType":"43","messageId":"44","endLine":5,"endColumn":45},"no-native-reassign",["46"],"no-negated-in-lhs",["47"],"no-unused-vars","'InputField' is defined but never used.","Identifier","unusedVar","'unstable_renderSubtreeIntoContainer' is defined but never used.","no-global-assign","no-unsafe-negation"]